<!DOCTYPE HTML>
<html lang>
<head>
<!-- Generated by javadoc (21) on Mon Nov 25 11:44:33 CET 2024 -->
<title>PkiCredentialContainer (Sweden Connect - PKI credentials support library - 1.3.3)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2024-11-25">
<meta name="description" content="declaration: package: se.swedenconnect.security.credential.container, interface: PkiCredentialContainer">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/PkiCredentialContainer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
<ul class="sub-nav-list-small">
<li>
<p>Summary:</p>
<ul>
<li>Nested</li>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-summary">Method</a></li>
</ul>
</li>
<li>
<p>Detail:</p>
<ul>
<li>Field</li>
<li>Constr</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list">
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><a href="../../../../../search.html">SEARCH</a>
<input type="text" id="search-input" disabled placeholder="Search">
<input type="reset" id="reset-button" disabled value="reset">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">se.swedenconnect.security.credential.container</a></div>
<h1 title="Interface PkiCredentialContainer" class="title">Interface PkiCredentialContainer</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="AbstractKeyStorePkiCredentialContainer.html" title="class in se.swedenconnect.security.credential.container">AbstractKeyStorePkiCredentialContainer</a></code>, <code><a href="AbstractPkiCredentialContainer.html" title="class in se.swedenconnect.security.credential.container">AbstractPkiCredentialContainer</a></code>, <code><a href="HsmPkiCredentialContainer.html" title="class in se.swedenconnect.security.credential.container">HsmPkiCredentialContainer</a></code>, <code><a href="InMemoryPkiCredentialContainer.html" title="class in se.swedenconnect.security.credential.container">InMemoryPkiCredentialContainer</a></code>, <code><a href="SoftPkiCredentialContainer.html" title="class in se.swedenconnect.security.credential.container">SoftPkiCredentialContainer</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">PkiCredentialContainer</span></div>
<div class="block">This interface defines the function of a multi credential container with keys that are contained and managed inside
 the container for its entire lifetime.

 <p>
 The primary use-case for this credential container is to be used with a HSM for generating ephemeral key credentials
 that are generated inside the HSM and used for a short period of time and then deleted without ever leaving the HSM.
 A typical use-case for this scenario is the generation and destruction of signing keys in a signature service where
 the signing key is used only once and then destroyed in order to guarantee that the key can never be used in any
 other process for any other purpose.
 </p>
 <p>
 While the primary use-case for this credential container is for use with HSM, it may also be implemented using a
 software based key store for implementations with less demands for security or for the purpose of testing and
 prototyping.
 </p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Martin Lindstr√∂m (martin@idsec.se), Stefan Santesson (stefan@idsec.se)</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#cleanup()" class="member-name-link">cleanup</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Traverses through all credentials in the multi credential key store and delets the expired ones.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#deleteCredential(java.lang.String)" class="member-name-link">deleteCredential</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Deletes the credential specified by the supplied alias.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#generateCredential(java.lang.String)" class="member-name-link">generateCredential</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;keyTypeName)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Generates a key pair and self-issued certificate for a new credential in the container.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="../PkiCredential.html" title="interface in se.swedenconnect.security.credential">PkiCredential</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getCredential(java.lang.String)" class="member-name-link">getCredential</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the credential for a specific alias from the credential container.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#getExpiryTime(java.lang.String)" class="member-name-link">getExpiryTime</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets the expiry time of the credential specified by alias.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#listCredentials()" class="member-name-link">listCredentials</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Gets all available credential aliases from the multi credential key store.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setKeyValidity(java.time.Duration)" class="member-name-link">setKeyValidity</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;keyValidity)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Assigns the duration for the validity of generated credentials.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#setSupportedKeyTypes(java.util.List)" class="member-name-link">setSupportedKeyTypes</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;supportedKeyTypes)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">Assigns the key types that this container supports.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="generateCredential(java.lang.String)">
<h3>generateCredential</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">generateCredential</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;keyTypeName)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyException.html" title="class or interface in java.security" class="external-link">KeyException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/NoSuchAlgorithmException.html" title="class or interface in java.security" class="external-link">NoSuchAlgorithmException</a>,
<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/cert/CertificateException.html" title="class or interface in java.security.cert" class="external-link">CertificateException</a></span></div>
<div class="block">Generates a key pair and self-issued certificate for a new credential in the container.
 <p>
 Note that self-issued certificates may be replaced after a credential has been generated. This is typically done
 after a CA has issued a certificate for the key pair.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyTypeName</code> - the id of the type of key to generate as provided by <a href="keytype/KeyGenType.html" title="class in se.swedenconnect.security.credential.container.keytype"><code>KeyGenType</code></a></dd>
<dt>Returns:</dt>
<dd>the alias for the generated key</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/KeyException.html" title="class or interface in java.security" class="external-link">KeyException</a></code> - on errors generating the key</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/NoSuchAlgorithmException.html" title="class or interface in java.security" class="external-link">NoSuchAlgorithmException</a></code> - if the requested algorithm or key type is not supported</dd>
<dd><code><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/security/cert/CertificateException.html" title="class or interface in java.security.cert" class="external-link">CertificateException</a></code> - on errors creating a certificate for the generated key</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getCredential(java.lang.String)">
<h3>getCredential</h3>
<div class="member-signature"><span class="return-type"><a href="../PkiCredential.html" title="interface in se.swedenconnect.security.credential">PkiCredential</a></span>&nbsp;<span class="element-name">getCredential</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</span>
                     throws <span class="exceptions"><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></span></div>
<div class="block">Gets the credential for a specific alias from the credential container.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>alias</code> - the alias of the credential to get</dd>
<dt>Returns:</dt>
<dd>credential for the specified alias</dd>
<dt>Throws:</dt>
<dd><code><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></code> - for errors obtaining the requested credential</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="deleteCredential(java.lang.String)">
<h3>deleteCredential</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">deleteCredential</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</span>
               throws <span class="exceptions"><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></span></div>
<div class="block">Deletes the credential specified by the supplied alias.
 <p>
 The "normal" way of deleting a credential is to invoke its <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/DisposableBean.html#destroy()" title="class or interface in org.springframework.beans.factory" class="external-link"><code>DisposableBean.destroy()</code></a> method. The {code
 deleteCredential} method is mainly for internal (and external) container maintenance.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>alias</code> - the alias of the credential to delete</dd>
<dt>Throws:</dt>
<dd><code><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></code> - error deleting the credential</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getExpiryTime(java.lang.String)">
<h3>getExpiryTime</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Instant.html" title="class or interface in java.time" class="external-link">Instant</a></span>&nbsp;<span class="element-name">getExpiryTime</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;alias)</span>
               throws <span class="exceptions"><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></span></div>
<div class="block">Gets the expiry time of the credential specified by alias.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>alias</code> - alias of the requested credential</dd>
<dt>Returns:</dt>
<dd>expiry time for the specified credential or null if the credential never expires</dd>
<dt>Throws:</dt>
<dd><code><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></code> - error obtaining the expiry time</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="listCredentials()">
<h3>listCredentials</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;</span>&nbsp;<span class="element-name">listCredentials</span>()
                      throws <span class="exceptions"><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></span></div>
<div class="block">Gets all available credential aliases from the multi credential key store.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>list of credential aliases</dd>
<dt>Throws:</dt>
<dd><code><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></code> - error listing available credentials</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="cleanup()">
<h3>cleanup</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">cleanup</span>()
      throws <span class="exceptions"><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></span></div>
<div class="block">Traverses through all credentials in the multi credential key store and delets the expired ones.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="PkiCredentialContainerException.html" title="class in se.swedenconnect.security.credential.container">PkiCredentialContainerException</a></code> - error performing cleanup</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setKeyValidity(java.time.Duration)">
<h3>setKeyValidity</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setKeyValidity</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/Duration.html" title="class or interface in java.time" class="external-link">Duration</a>&nbsp;keyValidity)</span></div>
<div class="block">Assigns the duration for the validity of generated credentials.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>keyValidity</code> - the validity</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setSupportedKeyTypes(java.util.List)">
<h3>setSupportedKeyTypes</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">setSupportedKeyTypes</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&gt;&nbsp;supportedKeyTypes)</span></div>
<div class="block">Assigns the key types that this container supports.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>supportedKeyTypes</code> - a list of supported key types</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Copyright &#169; 2024 <a href="https://swedenconnect.se">Sweden Connect</a>. All rights reserved.</small></p>
</footer>
</div>
</div>
</body>
</html>
